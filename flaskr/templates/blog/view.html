{% extends 'base.html' %}

{% block header %}
<h1>{% block title %}{{ post['title'] }}{% endblock %}</h1>
{% endblock %}

{% block content %}
	<div id="markdown-view">
		<textarea id="mainMarkdown">{{ post['body'] }}</textarea>
    </div>
	<script src="{{ url_for('static', filename='jquery.min.js') }}"></script>
	<script src="{{ url_for('static', filename='editormd/lib/marked.min.js') }}"></script>
	<script src="{{ url_for('static', filename='editormd/lib/prettify.min.js') }}"></script>
    
	<script src="{{ url_for('static', filename='editormd/lib/raphael.min.js') }}"></script>
	<script src="{{ url_for('static', filename='editormd/lib/underscore.min.js') }}"></script>
	<script src="{{ url_for('static', filename='editormd/lib/sequence-diagram.min.js') }}"></script>
	<script src="{{ url_for('static', filename='editormd/lib/flowchart.min.js') }}"></script>
	<script src="{{ url_for('static', filename='editormd/lib/jquery.flowchart.min.js') }}"></script>

	<script src="{{ url_for('static', filename='editormd/editormd.js') }}"></script>
	<script src="{{ url_for('static', filename='editormd/css/editormd.preview.css') }}"></script>
    <script type="text/javascript">    
			editormd.markdownToHTML("markdown-view", {
                htmlDecode: "style,script,iframe", //可以过滤标签解码
                emoji: true,
                taskList:true,
                tex: true,               // 默认不解析
                flowChart:true,         // 默认不解析
                sequenceDiagram:true,  // 默认不解析
				previewCodeHighlight: true
            });
    </script>		
{% endblock %}
